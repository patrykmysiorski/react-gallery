(this["webpackJsonpreact-gallery"]=this["webpackJsonpreact-gallery"]||[]).push([[0],{50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},58:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var r=c(1),a=c(2),n=c.n(a),s=c(21),l=c.n(s),i=(c(50),c(51),c(6)),o=function(){return Object(r.jsx)("h1",{children:"news"})},j=(c(52),c(10)),d=c(24),u=c.n(d),b=c(17),x=c.n(b),O=function(e){var t,c,a=e.id,n=e.title,s=e.date,l=e.description,i=e.coverUrl,o=e.backgroundColor;return Object(r.jsx)("div",{className:x()("gallery-box","".concat(o&&"background-color")),children:Object(r.jsxs)(j.b,{to:"/gallery/".concat(a),children:[Object(r.jsx)("div",{className:"picture-box",style:{backgroundImage:"url(".concat("/react-gallery"+i,")")}}),Object(r.jsxs)("div",{className:x()("gallery-box__info","p-2","flex-col-container","flex-justify-end"),children:[Object(r.jsx)("h3",{className:"m-b-1",children:n}),Object(r.jsx)("span",{children:(t=l,c=200,t.length>c?"".concat(t.substring(0,c)).concat("..."):t)}),Object(r.jsx)("div",{className:"date",children:Object(r.jsx)("i",{children:Object(r.jsx)("p",{children:u()(s).format("DD.MM.YYYY")})})})]})]})})},p=(c(58),c(18)),m="FETCH_GALLERIES_START",h="FETCH_GALLERIES_SUCCESS",f="FETCH_GALLERY_START",g="FETCH_GALLERY_SUCCESS",y="UPDATE_GALLERY_START",v=c(26),w=function(e){return e.galleryReducer},N=Object(v.a)([w],(function(e){return e.galleries})),E=Object(v.a)([w],(function(e){return e.currentGallery})),_=function(){var e=Object(p.b)();Object(a.useEffect)((function(){e({type:m})}),[e]);var t=Object(p.c)(N);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{className:"m-t-2",children:"My galleries"}),Object(r.jsx)("div",{className:x()("galleries-container","flex-row-container","flex-wrap","m-t-2"),children:t&&t.map((function(e,t){return Object(r.jsx)(O,{id:e.galleryId,title:e.title,date:e.dateCreated,description:e.description,coverUrl:e.coverUrl,backgroundColor:t%2===0},e.galleryId)}))})]})},k=(c(60),function(){return Object(r.jsx)("div",{children:"about/contact"})}),G=c(25),L=(c(61),"ADD_TAG"),S="DELETE_TAG",A=function(e){var t=e.content,c=e.isEdited,a=Object(p.b)();return Object(r.jsxs)("div",{className:"flex-row-container flex-align-items-center tag p-1 m-r-1",children:[Object(r.jsx)("span",{children:t.toUpperCase()}),c&&Object(r.jsx)("span",{className:"material-icons md-20 pointer",onClick:function(){return a({type:S,payload:t})},children:"delete_forever"})]})},C=(c(62),function(e){var t=e.tags,c=e.updateGallery,n=Object(a.useState)(!1),s=Object(G.a)(n,2),l=s[0],i=s[1];return Object(r.jsxs)("div",{className:"tags-container flex-row-container m-t-2 m-b-1 flex-wrap",children:[t&&t.map((function(e,t){return Object(r.jsx)(A,{content:e,isEdited:l},t)})),Object(r.jsx)("button",{className:"button button-edit",onClick:function(){i(!l),l&&c()},children:Object(r.jsx)("div",{className:"flex-row-container flex-align-items-center",children:Object(r.jsx)("i",{className:"material-icons md-20",children:l?"done":"create"})})})]})}),I=(c(63),function(){var e,t,c=Object(i.f)().galleryId,n=Object(p.b)();Object(a.useEffect)((function(){n(function(e){return{type:f,payload:e}}(c))}),[n,c]);var s=Object(p.c)((function(e){return E(e)}));return Object(r.jsx)(r.Fragment,{children:s&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"flex-row-container flex-align-items-center m-t-2 m-b-1",children:[Object(r.jsx)(j.b,{to:"/",children:Object(r.jsx)("button",{className:"button button-primary",children:Object(r.jsxs)("div",{className:"flex-row-container flex-align-items-center",children:[Object(r.jsx)("i",{className:"material-icons md-16",children:"arrow_back_ios"}),"back to galleries"]})})}),Object(r.jsx)("h2",{className:"m-l-3",children:"".concat(s.title,", ").concat(u()(s.dateCreated).format("DD MMMM YYYY"))})]}),Object(r.jsx)("hr",{}),Object(r.jsx)(C,{tags:s.tags,updateGallery:function(){var e;n((e={galleryId:s.galleryId,tags:s.tags},{type:y,payload:e}))}}),Object(r.jsx)("div",{className:"flex-col-container",children:Object(r.jsxs)("div",{className:"photos-container flex-row-container flex-justify-space-between",children:[Object(r.jsx)("div",{className:"main-photo",style:{backgroundImage:"url(".concat("/react-gallery"+s.coverUrl,")")}}),Object(r.jsx)("div",{className:"vertical-line"}),Object(r.jsxs)("div",{className:"other-images-wrapper flex-row-container flex-align-items-center",children:[Object(r.jsx)("span",{className:"material-icons md-32 m-l-1",children:"arrow_back_ios"}),Object(r.jsxs)("div",{className:"others-images",children:[Object(r.jsx)("div",{className:"flex-row-container margin-bottom-10",children:null===(e=s.photos)||void 0===e?void 0:e.map((function(e,t){return 0===t||1===t?Object(r.jsx)("div",{className:x()("small-image",!t&&"m-r-1"),style:{backgroundImage:"url(".concat("/react-gallery"+e,")")}}):null}))}),Object(r.jsx)("div",{className:"flex-row-container margin-top-10",children:null===(t=s.photos)||void 0===t?void 0:t.map((function(e,t){return 2===t||3===t?Object(r.jsx)("div",{className:x()("small-image",2===t?"m-r-1":""),style:{backgroundImage:"url(".concat("/react-gallery"+e,")")}}):null}))})]}),Object(r.jsx)("span",{className:"material-icons md-32",children:"arrow_forward_ios"})]})]})})]})})}),T="/news",R=c.p+"static/media/logo.103b5fa1.svg",Y=(c(64),c(65),function(){return Object(r.jsxs)("div",{className:"user-panel p-1 flex-col-container",children:[Object(r.jsx)("p",{className:"m-b-1",children:"Signed in as"}),Object(r.jsx)("p",{className:"username m-b-1",children:"yourUsername"}),Object(r.jsx)("hr",{}),Object(r.jsx)(j.b,{to:"profile",children:"Your profile"}),Object(r.jsx)("hr",{}),Object(r.jsx)(j.b,{to:"settings",children:"Settings"}),Object(r.jsx)(j.b,{to:"/",children:"Sign out"})]})}),D=function(){var e=Object(a.useState)(!0),t=Object(G.a)(e,2),c=t[0],n=t[1];return Object(r.jsxs)("header",{children:[Object(r.jsxs)("div",{className:"header p-l-6 p-r-6",children:[Object(r.jsx)(j.b,{to:"/",children:Object(r.jsxs)("div",{className:x()("logo-part","flex-row-container","flex-align-items-center"),children:[Object(r.jsx)("img",{className:"logo",src:R,alt:"app logo",height:70}),Object(r.jsx)("h2",{children:"React Gallery"})]})}),Object(r.jsxs)("div",{className:"links-part flex-row-container",children:[Object(r.jsxs)("div",{className:"buttons flex-row-container flex-justify-end",children:[Object(r.jsx)(j.b,{to:"/",children:"Galleries"}),Object(r.jsx)(j.b,{to:"".concat(T),children:"News"})]}),Object(r.jsx)("div",{className:"user-panel-header m-r-1 m-l-1",onClick:function(){return n(!c)},style:{backgroundImage:"url(".concat("/react-gallery/img/user/user.jpeg",")")}})]})]}),!c&&Object(r.jsx)(Y,{})]})},F=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(D,{}),Object(r.jsx)("div",{className:"app-container",children:Object(r.jsx)("div",{className:"app-content",children:Object(r.jsxs)(i.c,{children:[Object(r.jsx)(i.a,{exact:!0,path:"/",children:Object(r.jsx)(_,{})}),Object(r.jsx)(i.a,{path:"".concat(T),children:Object(r.jsx)(o,{})}),Object(r.jsx)(i.a,{path:"".concat("/contact"),children:Object(r.jsx)(k,{})}),Object(r.jsx)(i.a,{path:"".concat("/gallery/:galleryId"),children:Object(r.jsx)(I,{})})]})})})]})},U=c(16),M=c(14),H={galleries:[],currentGallery:{}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(M.a)(Object(M.a)({},e),{},{galleries:t.payload});case g:return Object(M.a)(Object(M.a)({},e),{},{currentGallery:t.payload});case L:return Object(M.a)(Object(M.a)({},e),{},{currentGallery:Object(M.a)(Object(M.a)({},e.currentGallery),{},{tags:e.currentGallery.tags.push(t.payload)})});case S:return Object(M.a)(Object(M.a)({},e),{},{currentGallery:Object(M.a)(Object(M.a)({},e.currentGallery),{},{tags:e.currentGallery.tags.filter((function(e){return e!==t.payload}))})});default:return e}},J=Object(U.combineReducers)({galleryReducer:P}),B=c(43),W=c(7),q=c.n(W),z=c(8),K=c(27),Q=c.n(K),V=q.a.mark(re),X=q.a.mark(ae),Z=q.a.mark(ne),$=q.a.mark(se),ee=q.a.mark(le),te=q.a.mark(ie),ce=q.a.mark(oe);function re(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.d)(m,ae);case 2:case"end":return e.stop()}}),V)}function ae(){var e;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.get("/gallery").then((function(e){return e.data}));case 3:return e=t.sent,t.next=6,Object(z.c)({type:h,payload:e});case 6:t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,console.log("error when fetching galleries",t.t0);case 12:return t.next=14,Object(z.c)({type:"FETCH_GALLERIES_FAILED"});case 14:case"end":return t.stop()}}),X,null,[[0,8]])}function ne(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.d)(f,se);case 2:case"end":return e.stop()}}),Z)}function se(e){var t;return q.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Q.a.get("/gallery/".concat(e.payload)).then((function(e){return e.data}));case 3:return t=c.sent,c.next=6,Object(z.c)({type:g,payload:t});case 6:c.next=13;break;case 8:return c.prev=8,c.t0=c.catch(0),console.log("error when fetching gallery with id ".concat(e.payload),c.t0),c.next=13,Object(z.c)({type:"FETCH_GALLERY_FAILED"});case 13:case"end":return c.stop()}}),$,null,[[0,8]])}function le(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.d)(y,ie);case 2:case"end":return e.stop()}}),ee)}function ie(e){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q.a.patch("/gallery",{galleryId:e.payload.galleryId,tags:e.payload.tags}).then((function(e){return console.log("Returned data: ",e)}));case 3:return t.next=5,Object(z.c)({type:"UPDATE_GALLERY_SUCCESS"});case 5:t.next=13;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,console.log("error in saga",t.t0);case 11:return t.next=13,Object(z.c)({type:"UPDATE_GALLERY_FAILED"});case 13:case"end":return t.stop()}}),te,null,[[0,7]])}function oe(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.a)([Object(z.b)(re),Object(z.b)(ne),Object(z.b)(le)]);case 2:case"end":return e.stop()}}),ce)}var je=q.a.mark(de);function de(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.a)([Object(z.b)(oe)]);case 2:case"end":return e.stop()}}),je)}var ue=c(44),be=Object(ue.a)(),xe=Object(U.createStore)(J,Object(B.composeWithDevTools)(Object(U.applyMiddleware)(be)));be.run(de);var Oe=xe;l.a.render(Object(r.jsx)(p.a,{store:Oe,children:Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(j.a,{basename:"/react-gallery",children:Object(r.jsx)(F,{})})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.fe30474c.chunk.js.map